---
title: "Почему не стоит проверять email сложными регулярными выражениями"
description: "Когда проверка email через regex избыточна и как правильно убедиться, что введённый адрес верный."
date: 2025-11-04
author: ["vchet"]
tags: ["html"]
discussionId: 47
---

# Почему не стоит проверять email сложными регулярными выражениями

Если у вас появилась задача "проверить полное соответствие введённого email стандарту RFC", то скорее всего вы не понимаете реальной цели формы, которую даёте на заполнение пользователю. Единственная правильная цель – убедиться, что с введённым адресом можно связаться с пользователем.

Написание сложных regex, вроде:

```txt
(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])
```

может быть "увлекательным" занятием, но на практике они всегда излишни.

## Простая проверка

Если нужно просто убедиться, что пользователь не ошибся полем, достаточно проверить наличие символа `@`.

Если нужен более строгий подход: `.+@.+\..+`, это проверит:

- наличие хотя бы одного символа до `@`
- наличие домена после `@`
- наличие точки и домена верхнего уровня

Даже эта проверка чаще всего избыточна: главная задача — чтобы адрес был действующим.

## Почему полноценная проверка избыточна

[RFC 5322](https://datatracker.ietf.org/doc/html/rfc5322) описывает email как довольно сложную конструкцию:

- в локальной части до `@` допустимы специальные символы
- допускаются комментарии в скобках, включая вложенные
- сервер обрабатывает локальную часть по своим правилам, и нестандартные адреса могут быть валидными

Даже идеально написанный regex может отклонять рабочие адреса. Строгая проверка может оттолкнуть пользователей с нестандартными, но рабочими почтовыми серверами.

Единственный надёжный способ проверить, что email рабочий, — это отправить письмо с подтверждением. Только так вы можете убедиться, что адрес действительно существует и пользователь реально может получить на него письмо.

## Базовые правила проверки

Для упрощённого взаимодействия с пользователем достаточно проверить:

- поле не пустое
- поле содержит символ `@`
- наличие защиты от SQL-инъекций или других очевидных злоупотреблений

## Итог

- Сложные regex для email почти всегда избыточны
- Базовой проверки достаточно для большинства задач
- Основной инструмент проверки — подтверждающее письмо
